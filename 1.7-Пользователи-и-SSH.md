# HQ_SRV и BR_SRV

Сделать на HQ_SRV и на BR_SRV.

Создаем пользователя sshuser.

`useradd sshuser -u 1010 -U` - создание пользователя

`passwd sshuser` - задать пароль пользователю

`вводим пароль пользователя` - P@ssw0rd

`повторяем ввод пароля` - P@ssw0rd

Создаём домашнюю папку пользователя ( нужно для ansible )

`mkhomedir_helper sshuser`

Далее, при необходимости, устанавливаем sudo.

`apt install sudo -y`

Заходим в `visudo` и прописываем нашего пользователя.

![image](https://github.com/user-attachments/assets/24bb4e8f-abcb-41b8-ba85-8c66d1a563d0)

# SSH ( HQ-SRV и BR-SRV )

Создадим файл баннера, допустим "banner_ssh" и напишем текст ( можно написать без =, Authorized Access Only )

`nano /etc/banner_ssh`

![{BF335577-9E9F-4135-89C3-B0830770B5D6}](https://github.com/user-attachments/assets/8a426fbb-a96d-43a2-b65c-36b329bd54b5)

Пропишем выделенные параметры в конфигурационный файл

`nano /etc/ssh/sshd_config`

![{E91DC01B-8C2A-43E1-9D73-D3914B014F7D}](https://github.com/user-attachments/assets/adcf9638-da81-47b1-bbd9-025d0d94c759)

После, перезапускаем службу SSH.

`systemctl restart ssh`

# Проверка SSH ( HQ-RTR )

Подключаемся с `HQ-RTR` указав имя созданного пользователя, ip-адрес `HQ-SRV` и порт 2024. Далее вводим пароль.

![image](https://github.com/user-attachments/assets/90aabedf-ea06-424c-9dbd-96be2764c8a1)


После ввода пароля должно быть вот так:

![image](https://github.com/user-attachments/assets/2d821e6d-c99c-41ef-8e9d-0ccb617f9fab)

Далее прописываем `sudo su`, если пароль не запросился и вы вошли под `root`, то всё сделано правильно

![image](https://github.com/user-attachments/assets/7b7f795f-b47f-4cb7-a112-790e784f5b00)

# HQ-RTR и BR-RTR

Создадим пользователя `net_admin` и зададим ему пароль `P@ssw0rd`

![{4A665BD7-F8E4-4C7F-9474-E0FA346F40A5}](https://github.com/user-attachments/assets/fb918ff7-4d9c-41bb-b6fd-c47e0d91f386)

Создаём домашнюю папку пользователя ( нужно для ansible )

`mkhomedir_helper net_admin`

`visudo`

![{06741716-AFD5-4626-8F67-09AB943C5326}](https://github.com/user-attachments/assets/5f16df41-76a5-4412-9073-198056894a7e)

