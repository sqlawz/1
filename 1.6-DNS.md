Настройку делаем на HQ-SRV

Скачиваем пакет bind9

`apt install bind9 -y`

# Основная конфигурация

`nano /etc/bind/named.conf.options`

![image](https://github.com/user-attachments/assets/f3b11d11-b1ef-48b0-8fb3-c2a4ea0ceb7d)

# Обозначение зон

`nano /etc/bind/named.conf.default-zones`

Удаляем или комментируем имеющиеся зоны и добавляем свои.

Вариант 1

![image](https://github.com/user-attachments/assets/72c8b4b4-3dae-46f3-95f5-f1e02b2940b7)

Вариант 2

![{400DEE6F-E02B-4BF3-B123-5369A0810518}](https://github.com/user-attachments/assets/81dfedf3-0762-4af1-82b0-bb2c7f6bf62e)


# Настройка зон

Копируем шаблоны для зон из существующего файла

`cp /etc/bind/db.empty /etc/bind/au-team.db`

`cp /etc/bind/db.empty /etc/bind/au-team_rev.db`

`cp /etc/bind/db.empty /etc/bind/au-team_rev2.db`

Перейдём к редактированию конфигов

`nano /etc/bind/au-team.db`

Вариант 1

![{B21AD2FA-7CE8-4339-8D58-9A8BAA518C0F}](https://github.com/user-attachments/assets/6b890a97-0e86-4ef6-9be9-eac6367230b1)

Вариант 2

![{8C0BDF37-9077-4764-8BDA-C5D2C5DC444F}](https://github.com/user-attachments/assets/8c611d2f-e2cc-4f95-a99c-0d2bacfa8708)

`nano /etc/bind/au-team_rev.db`

![image](https://github.com/user-attachments/assets/04177f8b-ebb7-49ce-b7f2-f59b8d2d7290)

`nano /etc/bind/au-team_rev2.db`

![image](https://github.com/user-attachments/assets/f123c940-7d05-47a3-b426-d3737ecceba4)

# Проверка конфигураций

`named-checkconf -z`

![image](https://github.com/user-attachments/assets/fe2a6d4b-b88a-44b9-ab28-019434b934b3)

`systemctl restart bind9`

# Настройка на ВСЕХ машинах, кроме ISP

Стираем всё и прописываем ip-адрес сервера, на котором настроили DNS, в нашем случае HQ-SRV

`nano /etc/resolv.conf`

Вариант 1

![image](https://github.com/user-attachments/assets/4a4ac688-093f-4937-8e17-37b716f2373a)

Вариант 2

![{B608A5DC-5CE2-4743-A2AD-0C9AA181FB8D}](https://github.com/user-attachments/assets/260774c1-eb92-4119-bb45-8b50224a6301)

`systemctl restart networking`

# Проверка

Проверку прямой зоны производим путём ввода команды `host` и полного доменного имени устройства, обратную проверяем с вводом ip-адреса устройства.

Прямая:

![image](https://github.com/user-attachments/assets/62577dbb-c90b-49c4-ac8e-58c6edce247b)

Обратная:

![image](https://github.com/user-attachments/assets/69b1f6c2-5fee-4588-af87-7b41d63a1372)















