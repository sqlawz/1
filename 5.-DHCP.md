# HQ-RTR

Устанавливаем DHCP сервер, при необходимости:

`apt install isc-dhcp-server -y`

Будет много красных строк, не пугаемся, это служба пыталась запуститься, но без правильной настройки конфига она не запустится.

Переходим в `nano /etc/default/isc-dhcp-server` и в строчке `INTERFACESv4=` прописываем интерфейс, КОТОРЫЙ ИДЕТ В СТОРОНУ HQ-CLI!! (в моем случае ens34:1).

![{E6EC5F86-7845-4D9F-ADBF-C1EBAF2A4E74}](https://github.com/user-attachments/assets/1e390ad7-1b69-4ba8-8a76-efe215197103)

Далее, переходим в `nano /etc/dhcp/dhcpd.conf`, комментируем все белые строки и прописываем следующее.

![{53CBDEC1-B360-4968-A627-AA2575967DED}](https://github.com/user-attachments/assets/2b62ca0d-e019-4dc3-bf18-ae0772f21290)

Перезагружаем службу `systemctl restart isc-dhcp-server` и проверяем статус, в случае если не было ошибки о неудачном запуске DHCP, `systemctl status isc-dhcp-server`. Видим зеленую строку `active (running)`, служба запущена.

Проверим выдачу ip-адреса на HQ-CLI. Перейдем в терминал, заходим на root `su root` и проверяем ip-адрес `ip -br a`

![image](https://github.com/user-attachments/assets/6586e563-087a-4b2b-bc6a-a6a34013b8ab)

Готово. IP-адрес был выдан автоматически.